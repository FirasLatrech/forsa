import 'dotenv/config';
import { drizzle } from 'drizzle-orm/neon-http';
import { neon } from '@neondatabase/serverless';
import * as schema from './schema';

const sql = neon(process.env.DATABASE_URL!);
const db = drizzle(sql, { schema });

async function seed() {
  console.log('ğŸŒ± Starting database seeding...');

  try {
    console.log('ğŸ“¦ Creating categories...');
    const categories = await db.insert(schema.category).values([
      {
        id: 'cat-1',
        name: 'Clothing',
        nameAr: 'Ø­ÙˆØ§ÙŠØ¬',
        slug: 'clothing',
        description: 'Fashion and clothing items',
        displayOrder: 1,
        isActive: true,
      },
      {
        id: 'cat-2',
        name: 'Accessories',
        nameAr: 'Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª',
        slug: 'accessories',
        description: 'Fashion accessories',
        displayOrder: 2,
        isActive: true,
      },
      {
        id: 'cat-3',
        name: 'Shoes',
        nameAr: 'ØµØ¨Ù‘Ø§Ø·',
        slug: 'shoes',
        description: 'Footwear collection',
        displayOrder: 3,
        isActive: true,
      },
      {
        id: 'cat-4',
        name: 'Electronics',
        nameAr: 'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª',
        slug: 'electronics',
        description: 'Electronic devices and gadgets',
        displayOrder: 4,
        isActive: true,
      },
      {
        id: 'cat-5',
        name: 'Home & Living',
        nameAr: 'Ø¯Ø§Ø± Ùˆ Ù…Ø¹ÙŠØ´Ø©',
        slug: 'home-living',
        description: 'Home decor and living essentials',
        displayOrder: 5,
        isActive: true,
      },
    ]).returning();
    console.log(`âœ… Created ${categories.length} categories`);

    console.log('ğŸ‘• Creating products...');
    const products = await db.insert(schema.product).values([
      {
        id: 'prod-1',
        name: 'Classic White T-Shirt',
        nameAr: 'ØªØ±ÙŠÙƒÙˆ Ø£Ø¨ÙŠØ¶ ÙƒÙ„Ø§Ø³ÙŠÙƒ',
        slug: 'classic-white-tshirt',
        description: 'Premium quality cotton t-shirt, perfect for everyday wear',
        descriptionAr: 'ØªØ±ÙŠÙƒÙˆ Ù‚Ø·Ù† Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©ØŒ Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø¥Ø³ØªØ¹Ù…Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ',
        price: '15.00',
        compareAtPrice: '25.00',
        costPrice: '8.00',
        sku: 'TSH-WHT-001',
        stock: 50,
        images: ['/images/products/tshirt-white.jpg', '/images/products/tshirt-white-2.jpg'],
        categoryId: 'cat-1',
        isActive: true,
        isFeatured: true,
        isNew: true,
        viewCount: 0,
      },
      {
        id: 'prod-2',
        name: 'Denim Jacket',
        nameAr: 'ÙÙŠØ³Øª Ø¬ÙŠÙ†Ø²',
        slug: 'denim-jacket',
        description: 'Stylish denim jacket for all seasons',
        descriptionAr: 'ÙÙŠØ³Øª Ø¬ÙŠÙ†Ø² Ø£Ù†ÙŠÙ‚ Ù„ÙƒÙ„ Ø§Ù„ÙØµÙˆÙ„',
        price: '45.00',
        compareAtPrice: '60.00',
        costPrice: '25.00',
        sku: 'JKT-DNM-001',
        stock: 30,
        images: ['/images/products/jacket-denim.jpg'],
        categoryId: 'cat-1',
        isActive: true,
        isFeatured: true,
        isNew: false,
        viewCount: 0,
      },
      {
        id: 'prod-3',
        name: 'Leather Wallet',
        nameAr: 'Ù…Ø­ÙØ¸Ø© Ø¬Ù„Ø¯',
        slug: 'leather-wallet',
        description: 'Genuine leather wallet with multiple card slots',
        descriptionAr: 'Ù…Ø­ÙØ¸Ø© Ø¬Ù„Ø¯ Ø·Ø¨ÙŠØ¹ÙŠ Ù…Ø¹ Ø£Ù…Ø§ÙƒÙ† Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª',
        price: '20.00',
        compareAtPrice: '35.00',
        costPrice: '12.00',
        sku: 'ACC-WLT-001',
        stock: 100,
        images: ['/images/products/wallet-leather.jpg'],
        categoryId: 'cat-2',
        isActive: true,
        isFeatured: false,
        isNew: true,
        viewCount: 0,
      },
      {
        id: 'prod-4',
        name: 'Sports Sneakers',
        nameAr: 'Ø³Ù†ÙŠÙƒØ±Ø² Ø±ÙŠØ§Ø¶ÙŠØ©',
        slug: 'sports-sneakers',
        description: 'Comfortable sports sneakers for daily activities',
        descriptionAr: 'Ø³Ù†ÙŠÙƒØ±Ø² Ø±ÙŠØ§Ø¶ÙŠØ© Ù…Ø±ÙŠØ­Ø© Ù„Ù„Ø¥Ø³ØªØ¹Ù…Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ',
        price: '35.00',
        compareAtPrice: '50.00',
        costPrice: '20.00',
        sku: 'SHO-SNK-001',
        stock: 40,
        images: ['/images/products/sneakers-sports.jpg', '/images/products/sneakers-sports-2.jpg'],
        categoryId: 'cat-3',
        isActive: true,
        isFeatured: true,
        isNew: false,
        viewCount: 0,
      },
      {
        id: 'prod-5',
        name: 'Wireless Earbuds',
        nameAr: 'Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ©',
        slug: 'wireless-earbuds',
        description: 'Premium wireless earbuds with noise cancellation',
        descriptionAr: 'Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ© ÙØ§Ø®Ø±Ø© Ù…Ø¹ Ø¹Ø²Ù„ Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡',
        price: '40.00',
        compareAtPrice: '60.00',
        costPrice: '22.00',
        sku: 'ELC-EAR-001',
        stock: 60,
        images: ['/images/products/earbuds-wireless.jpg'],
        categoryId: 'cat-4',
        isActive: true,
        isFeatured: true,
        isNew: true,
        viewCount: 0,
      },
      {
        id: 'prod-6',
        name: 'Smart Watch',
        nameAr: 'Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ©',
        slug: 'smart-watch',
        description: 'Feature-rich smartwatch with health tracking',
        descriptionAr: 'Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ø¨Ù…ÙŠØ²Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„ØªØªØ¨Ø¹ Ø§Ù„ØµØ­Ø©',
        price: '80.00',
        compareAtPrice: '120.00',
        costPrice: '45.00',
        sku: 'ELC-WTH-001',
        stock: 25,
        images: ['/images/products/watch-smart.jpg'],
        categoryId: 'cat-4',
        isActive: true,
        isFeatured: true,
        isNew: true,
        viewCount: 0,
      },
      {
        id: 'prod-7',
        name: 'Decorative Cushion Set',
        nameAr: 'Ø·Ù‚Ù… ÙˆØ³Ø§Ø¦Ø¯ ØªØ²ÙŠÙŠÙ†ÙŠØ©',
        slug: 'decorative-cushion-set',
        description: 'Set of 4 decorative cushions for your living room',
        descriptionAr: 'Ø·Ù‚Ù… 4 ÙˆØ³Ø§Ø¦Ø¯ ØªØ²ÙŠÙŠÙ†ÙŠØ© Ù„Ù„ØµØ§Ù„ÙˆÙ†',
        price: '25.00',
        compareAtPrice: '40.00',
        costPrice: '14.00',
        sku: 'HOM-CSH-001',
        stock: 35,
        images: ['/images/products/cushions-set.jpg'],
        categoryId: 'cat-5',
        isActive: true,
        isFeatured: false,
        isNew: false,
        viewCount: 0,
      },
      {
        id: 'prod-8',
        name: 'Sunglasses',
        nameAr: 'Ù†Ø¸Ø§Ø±Ø§Øª Ø´Ù…Ø³ÙŠØ©',
        slug: 'sunglasses',
        description: 'Stylish UV protection sunglasses',
        descriptionAr: 'Ù†Ø¸Ø§Ø±Ø§Øª Ø´Ù…Ø³ÙŠØ© Ø£Ù†ÙŠÙ‚Ø© Ù…Ø¹ Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ø£Ø´Ø¹Ø©',
        price: '18.00',
        compareAtPrice: '30.00',
        costPrice: '10.00',
        sku: 'ACC-SUN-001',
        stock: 70,
        images: ['/images/products/sunglasses.jpg'],
        categoryId: 'cat-2',
        isActive: true,
        isFeatured: false,
        isNew: true,
        viewCount: 0,
      },
      {
        id: 'prod-9',
        name: 'Casual Backpack',
        nameAr: 'Ø­Ù‚ÙŠØ¨Ø© Ø¸Ù‡Ø± ÙƒØ§Ø¬ÙˆØ§Ù„',
        slug: 'casual-backpack',
        description: 'Spacious backpack perfect for daily use',
        descriptionAr: 'Ø­Ù‚ÙŠØ¨Ø© Ø¸Ù‡Ø± ÙˆØ§Ø³Ø¹Ø© Ù…Ø«Ø§Ù„ÙŠØ© Ù„Ù„Ø¥Ø³ØªØ¹Ù…Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ',
        price: '30.00',
        compareAtPrice: '45.00',
        costPrice: '18.00',
        sku: 'ACC-BKP-001',
        stock: 45,
        images: ['/images/products/backpack-casual.jpg'],
        categoryId: 'cat-2',
        isActive: true,
        isFeatured: true,
        isNew: false,
        viewCount: 0,
      },
      {
        id: 'prod-10',
        name: 'Cotton Hoodie',
        nameAr: 'Ù‡ÙˆØ¯ÙŠ Ù‚Ø·Ù†',
        slug: 'cotton-hoodie',
        description: 'Comfortable cotton hoodie for casual wear',
        descriptionAr: 'Ù‡ÙˆØ¯ÙŠ Ù‚Ø·Ù† Ù…Ø±ÙŠØ­ Ù„Ù„Ø¥Ø³ØªØ¹Ù…Ø§Ù„ Ø§Ù„ÙƒØ§Ø¬ÙˆØ§Ù„',
        price: '28.00',
        compareAtPrice: '40.00',
        costPrice: '16.00',
        sku: 'CLO-HOD-001',
        stock: 55,
        images: ['/images/products/hoodie-cotton.jpg', '/images/products/hoodie-cotton-2.jpg'],
        categoryId: 'cat-1',
        isActive: true,
        isFeatured: false,
        isNew: true,
        viewCount: 0,
      },
      {
        id: 'prod-11',
        name: 'Running Shoes',
        nameAr: 'ØµØ¨Ù‘Ø§Ø· Ø±ÙŠØ§Ø¶Ø©',
        slug: 'running-shoes',
        description: 'Professional running shoes with extra cushioning',
        descriptionAr: 'ØµØ¨Ù‘Ø§Ø· Ø±ÙŠØ§Ø¶Ø© Ø¥Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¹ ØªÙˆØ³ÙŠØ¯ Ø¥Ø¶Ø§ÙÙŠ',
        price: '55.00',
        compareAtPrice: '75.00',
        costPrice: '32.00',
        sku: 'SHO-RUN-001',
        stock: 30,
        images: ['/images/products/shoes-running.jpg'],
        categoryId: 'cat-3',
        isActive: true,
        isFeatured: true,
        isNew: true,
        viewCount: 0,
      },
      {
        id: 'prod-12',
        name: 'Laptop Sleeve',
        nameAr: 'Ø­Ø§ÙØ¸Ø© Ù„Ø§Ø¨ØªÙˆØ¨',
        slug: 'laptop-sleeve',
        description: 'Protective sleeve for 15-inch laptops',
        descriptionAr: 'Ø­Ø§ÙØ¸Ø© Ø­Ù…Ø§ÙŠØ© Ù„Ù„Ø§Ø¨ØªÙˆØ¨ 15 Ø¨ÙˆØµØ©',
        price: '22.00',
        compareAtPrice: '35.00',
        costPrice: '13.00',
        sku: 'ACC-LAP-001',
        stock: 40,
        images: ['/images/products/laptop-sleeve.jpg'],
        categoryId: 'cat-2',
        isActive: true,
        isFeatured: false,
        isNew: false,
        viewCount: 0,
      },
    ]).returning();
    console.log(`âœ… Created ${products.length} products`);

    console.log('ğŸ Creating random boxes...');
    const randomBoxes = await db.insert(schema.randomBox).values([
      {
        id: 'box-1',
        name: 'Mystery Box 10',
        nameAr: 'ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…ÙØ§Ø¬Ø¢Øª 10',
        description: 'Get products worth more than 10 TND',
        descriptionAr: 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§Øª Ø¨Ù‚ÙŠÙ…Ø© Ø£ÙƒØ«Ø± Ù…Ù† 10 Ø¯ÙŠÙ†Ø§Ø±',
        amount: '10.00',
        minValue: '15.00',
        maxValue: '30.00',
        colorGradient: 'from-blue-500 to-blue-600',
        icon: 'ğŸ',
        displayOrder: 1,
        isActive: true,
        stock: 100,
        soldCount: 0,
      },
      {
        id: 'box-2',
        name: 'Mystery Box 20',
        nameAr: 'ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…ÙØ§Ø¬Ø¢Øª 20',
        description: 'Get products worth more than 20 TND',
        descriptionAr: 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§Øª Ø¨Ù‚ÙŠÙ…Ø© Ø£ÙƒØ«Ø± Ù…Ù† 20 Ø¯ÙŠÙ†Ø§Ø±',
        amount: '20.00',
        minValue: '30.00',
        maxValue: '50.00',
        colorGradient: 'from-purple-500 to-purple-600',
        icon: 'ğŸ‰',
        displayOrder: 2,
        isActive: true,
        stock: 100,
        soldCount: 0,
      },
      {
        id: 'box-3',
        name: 'Mystery Box 50',
        nameAr: 'ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…ÙØ§Ø¬Ø¢Øª 50',
        description: 'Get products worth more than 50 TND',
        descriptionAr: 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§Øª Ø¨Ù‚ÙŠÙ…Ø© Ø£ÙƒØ«Ø± Ù…Ù† 50 Ø¯ÙŠÙ†Ø§Ø±',
        amount: '50.00',
        minValue: '75.00',
        maxValue: '120.00',
        colorGradient: 'from-pink-500 to-pink-600',
        icon: 'âœ¨',
        displayOrder: 3,
        isActive: true,
        stock: 100,
        soldCount: 0,
      },
    ]).returning();
    console.log(`âœ… Created ${randomBoxes.length} random boxes`);

    console.log('âœ¨ Database seeding completed successfully!');
    console.log(`ğŸ“Š Summary:`);
    console.log(`   - Categories: ${categories.length}`);
    console.log(`   - Products: ${products.length}`);
    console.log(`   - Random Boxes: ${randomBoxes.length}`);
    console.log('');
    console.log('ğŸš€ You can now view your data using: bun run db:studio');
    
  } catch (error) {
    console.error('âŒ Error seeding database:', error);
    process.exit(1);
  }
}

seed()
  .then(() => {
    console.log('âœ… Seeding finished!');
    process.exit(0);
  })
  .catch((error) => {
    console.error('âŒ Seeding failed:', error);
    process.exit(1);
  });

